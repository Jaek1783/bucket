{"version":3,"sources":["firebase.js","Bucket.jsx","store.js","List.js","Detail.js","Progress.js","App.js","index.js"],"names":["initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","initState","list","createBucket","bucket","type","completeBucket","bucket_index","deleteBucket","loadBucket","bucket_list","addBucketFB","dispatch","addDoc","collection","docRef","bucketData","id","console","log","middlewares","thunk","rootReducer","combineReducers","Bucket","state","action","new_list","map","l","idx","completed","filter","enhancer","applyMiddleware","store","createStore","List","useDispatch","data","useSelector","navigate","useNavigate","MyUl","index","StyledList","onClick","text","StyledButton","bucket_id","getState","doc","deleteDoc","findIndex","b","updateDoc","styled","ul","button","p","props","Detail","params","useParams","Progress","count","Container","View","width","length","Dot","div","App","useEffect","getDocs","bucket_data","forEach","push","myRef","useRef","addList","value","current","className","InputStyle","ref","path","element","ButtonStyled","window","scrollTo","top","left","behavior","rootElement","document","getElementById","createRoot","render","Store"],"mappings":"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","file":"static/js/main.5773c071.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA164JgPTgcAXiHvSiABj-E1cg4I-O42Uo\",\n  authDomain: \"my-portfolio-ed3e0.firebaseapp.com\",\n  projectId: \"my-portfolio-ed3e0\",\n  storageBucket: \"my-portfolio-ed3e0.appspot.com\",\n  messagingSenderId: \"550988259321\",\n  appId: \"1:550988259321:web:f55120553fc4b4b2e2a728\",\n  measurementId: \"G-W836BGF05L\"\n};\ninitializeApp(firebaseConfig);\n// Initialize Firebase\nexport const db = getFirestore();","// bucket.js\nimport { db  } from \"./firebase\";\nimport { collection, getDoc,getDocs, addDoc, updateDoc, doc, deleteDoc } from \"firebase/firestore\";\nconst initState = {\n  list: [\n    // { text: \"혼자 여행 하기\", completed: \"false\" },\n    // { text: \"해외 여행 하기\", completed: \"false\" },\n    // { text: \"고양이 키우기\", completed: \"false\" }\n  ]\n};\n// Actions\nconst LOAD = \"bucket/LOAD\";\nconst CREATE = \"bucket/CREATE\";\nconst COMPLETE = \"bucket/COMPLETE\";\nconst DELETE = \"bucket/DELETE\";\n\n// Action Creators\nexport function createBucket(bucket) {\n  return { type: CREATE, bucket: bucket };\n}\nexport function completeBucket(bucket_index) {\n  return { type: COMPLETE, bucket_index };\n}\nexport function deleteBucket(bucket_index) {\n  return { type: DELETE, bucket_index };\n}\nexport function loadBucket (bucket_list){\n  return{type:LOAD, bucket_list};\n}\n\n//middleweares\nexport const loadBucketFB = ()=>{\n  return async function (dispatch){\n    const bucket_data = await getDocs(collection(db, \"bucket\"));\n    let bucket_list = [];\n    bucket_data.forEach((b)=>{\n      // bucket_list = [...bucket_list, {...b.data()}];\n      bucket_list.push({id:b.id,  ...b.data()});\n    });\n    dispatch(loadBucket(bucket_list));\n\n  }\n}\n\nexport const addBucketFB = (bucket) => {\n  return async function (dispatch) {\n  const docRef = await addDoc(collection(db, \"bucket\"),bucket);\n  // const _bucket = await getDoc (docRef);  \n  const bucketData = {id: docRef.id, ...bucket};\nconsole.log(bucketData  ); \n// console.log(docRef);\n  dispatch(createBucket(bucketData)) ;\n  }\n}\nexport const completeBucketFB = (bucket_id) => {\n  return async  function (dispatch, getState) {\n    const docRef = doc(db, \"bucket\", bucket_id);\n   await updateDoc(docRef, {completed:true});\n  //  console.log(getState().Bucket);\n   const bucket_list = getState().Bucket.list;\n   const bucket_index = bucket_list.findIndex((b)=>{\n    return b.id === bucket_id;\n   })\n   dispatch(completeBucket(bucket_index));\n  }\n}\nexport const deleteBucketFB = (bucket_id)=> {\n  return async function (dispatch, getState){\n    const docRef = doc(db, \"bucket\", bucket_id);\n    await deleteDoc(docRef);\n    const bucket_list = getState().Bucket.list;\n    const bucket_index = bucket_list.findIndex((b)=>{\n     return b.id === bucket_id;\n    })\n    dispatch(deleteBucket(bucket_index));\n  }\n}\n// Reducer\nexport default function reducer(state = initState, action = {}) {\n  switch (action.type) {\n    case \"bucket/CREATE\": {\n      const new_list = [...state.list, action.bucket];\n      return { list: new_list };\n    }\n    case \"bucket/COMPLETE\": {\n      const new_list = state.list.map((l, idx) => {\n        if (action.bucket_index === idx) {\n          return { ...l, completed:true };\n        } else {\n          return l; \n        }\n      });\n      return { list: new_list };\n    }\n    case \"bucket/DELETE\": {\n      const new_list = state.list.filter((l, idx) => {\n        return action.bucket_index !== idx;\n      });\n      return { list: new_list };\n    }\n    case \"bucket/LOAD\":{\n      return {list: action.bucket_list}\n    }\n    default:\n      return state;\n  }\n}\n","import { createStore, combineReducers,applyMiddleware, compose } from \"redux\";\nimport Bucket from \"./Bucket\";\nimport thunk from \"redux-thunk\";\n\nconst middlewares=[thunk];\nconst rootReducer = combineReducers({ Bucket });\nconst enhancer = applyMiddleware(...middlewares);\nconst store = createStore(rootReducer, enhancer);\n\nexport default store;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { completeBucketFB, deleteBucketFB } from \"./Bucket\";\nimport { db  } from \"./firebase\";\nimport { collection, getDocs, addDoc, updateDoc, doc, deleteDoc } from \"firebase/firestore\";\n\n\nconst List =() => {\n  const dispatch = useDispatch();\n  const data = useSelector((state) => state.Bucket.list);\n  let navigate = useNavigate();\n  return (\n    <MyUl>\n      {data.map((list, index) => {\n        return (\n          <li key={index}>\n            <StyledList\n              completed={list.completed}\n              onClick={() => {navigate(`/detail/` + index);\n            }}>{list.text}</StyledList>\n            <StyledButton\n              onClick={() => {\n                dispatch(deleteBucketFB (data[index].id ));\n              }}\n            >\n              삭제\n            </StyledButton>\n            <StyledButton\n              onClick={() => {\n                // dispatch(completeBucket(index));\n                dispatch(completeBucketFB(data[index].id));\n              }}\n            >\n              완료\n            </StyledButton>\n          </li>\n        );\n      })}\n    </MyUl>\n  );\n};\nexport default List;\n\nconst MyUl = styled.ul`\n  margin: 0;\n  display: flex;\n  flex-direction: column-reverse;\n  li {\n    display: flex;\n    justify-content: space-evenly;\n    border-bottom: 1px solid #ccc;\n    margin: 0;\n    margin-bottom: 1em;\n    padding: 1em;\n    font-size: 0.9em;\n    list-style-type: none;\n    text-align: left;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: #fff;\n  border: none;\n  border-right: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n  margin-left: 5px;\n  padding: 5px;\n  border-radius: 15px;\n  :active {\n    border: none;\n    border-top: 1px solid #ccc;\n    border-left: 1px solid #ccc;\n  }\n`;\n\nconst StyledList = styled.p`\n  cursor: pointer;\n  width: 80%;\n  height: 2rem;\n  text-align: center;\n  background-color: ${(props) =>\n    props.completed === true ? \"skyblue\" : \"antiquewhite\"};\n  color: ${(props) => (props.completed === \"true\" ? \"#fff\" : \"#000\")};\n  line-height: 2rem;\n  font-size: 1rem;\n`;\n","import React from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nconst Detail = () => {\n  const params = useParams();\n  const bucket_list = useSelector((state) => state.Bucket.list);\n  const index = params.index;\n  let navigate = useNavigate();\n  return (\n    <div>\n      <p>{bucket_list[index]? bucket_list[index].text: \"\"}</p>\n      <button\n        onClick={() => {\n          navigate(`/bucket`);\n          \n        }}\n      >\n        처음으로\n      </button>\n    </div>\n  );\n};\nexport default Detail;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nconst Progress = () => {\n  const data = useSelector((state) => state.Bucket.list);\n  let count = 0;\n  data.map((b) => {\n    if (b.completed === true) {\n      count++;\n    }\n  });\n  return (\n    <Container>\n      <View width={(count / data.length) * 100 + \"%\"}></View>\n      <Dot></Dot>\n    </Container>\n  );\n};\nexport default Progress;\n\nconst Container = styled.div`\n  width: 90%;\n  margin: 0 auto 1rem;\n  height: 15px;\n  border-radius: 15px;\n  background: #fdfdfd;\n  display: flex;\n`;\nconst View = styled.div`\n  transition: 0.5s ease-in-out;\n  width: ${(props) => props.width};\n  height: 15px;\n  background-color: skyblue;\n`;\nconst Dot = styled.div`\n  display: block;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  border: 3px solid skyblue;\n  margin: -5px -5px -5px -10px;\n  background-color: #fff;\n`;\n","import \"./styles.css\";\nimport List from \"./List\";\nimport React, { useRef,useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Route, Routes } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport Detail from \"./Detail\";\nimport Progress from \"./Progress\";\nimport { addBucketFB,loadBucketFB  } from \"./Bucket\";\n\nexport default function App() {\n  useEffect(()=>{\n    dispatch(loadBucketFB ());\n  },[]);\n  const myRef = useRef(null);\n  const dispatch = useDispatch();\n  const addList = async () => {\n    const value = myRef.current.value;\n    dispatch(addBucketFB({ text: value, completed: \"false\" }));  \n\n\n  };\n  return (\n    <div className=\"App\">\n      <header><h1>나의 버킷리스트</h1></header>\n      <Progress />\n      <InputStyle>\n        <input type=\"text\" ref={myRef} />\n        <button\n          onClick={() => {\n            addList();\n            myRef.current.value = \"\";\n          }}\n        >\n          올리기\n        </button>\n      </InputStyle>\n      <Routes>\n        <Route path=\"/bucket\" element={<List />} />\n        <Route path=\"/detail/:index\" element={<Detail />} />\n      </Routes>\n      <ButtonStyled\n        onClick={() => {\n          window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\n        }}\n      >\n        맨 위로\n      </ButtonStyled>\n    </div>\n  );\n}\n\nconst InputStyle = styled.div`\n  padding-bottom: 1em;\n  border-bottom: 1px dotted #000;\n  position: relative;\n  button {\n    background-color: #fff;\n    border: none;\n    border-right: 1px solid #ccc;\n    border-bottom: 1px solid #ccc;\n    margin-left: 5px;\n    padding: 5px;\n    border-radius: 15px;\n  }\n  button:active {\n    border: none;\n    border-top: 1px solid #ccc;\n    border-left: 1px solid #ccc;\n  }\n  input {\n    width: 60%;\n    height: 50px;\n    border: 3px dotted antiquewhite;\n    border-radius: 15px;\n    padding: 0 50px;\n    font-size: 20px;\n  }\n  input:focus {\n    outline: none;\n    border: 3px dotted skyblue;\n  }\n`;\n\nconst ButtonStyled = styled.button`\n  position: fixed;\n  z-index:9999;\n  right: 1%;\n  bottom: 10%;\n  background-color: antiquewhite;\n  border: none;\n  border-right: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n  margin-left: 5px;\n  padding: 5px;\n  border-radius: 15px;\n  :active {\n    border: none;\n    border-top: 1px solid #ccc;\n    border-left: 1px solid #ccc;\n  }\n`;\n","import { BrowserRouter } from \"react-router-dom\";\nimport { createRoot } from \"react-dom/client\";\nimport { Provider } from \"react-redux\";\nimport Store from \"./store\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <Provider store={Store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n"],"sourceRoot":""}